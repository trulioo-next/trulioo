{"ast":null,"code":"'use strict';\n\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport Fetch from './fetch'; // TODO : \n// ADD THESE TO ENV VARIABLES \n//\n\nvar APPORIGIN = 'development';\nvar API_HOST = 'localhost';\nvar API_PORT = '8000'; // TODO: API Services health check\n\nexport default (function () {\n  var ORIGIN = \"https://\".concat(APPORIGIN); // const API_URI = `https://${API_HOST}:${API_PORT}`\n\n  var API_URI = '';\n\n  function setOptions() {\n    var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'GET';\n    var options = arguments.length > 1 ? arguments[1] : undefined;\n    // console.log(options);\n    var headers = options.headers || {};\n    return _objectSpread({}, options, {\n      method: method,\n      headers: _objectSpread({\n        \"Origin\": ORIGIN,\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      }, headers)\n    });\n  }\n\n  return {\n    post: function post(path, data) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var url = \"\".concat(API_URI).concat(path);\n      return Fetch(url, setOptions('POST', _objectSpread({}, options, {\n        body: _JSON$stringify(data)\n      })));\n    },\n    get: function get(path, options) {\n      var url = \"\".concat(API_URI).concat(path);\n      return Fetch(url, setOptions('GET', options));\n    },\n    put: function put(path, data) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var url = \"\".concat(API_URI).concat(path);\n      return Fetch(url, setOptions('PUT', _objectSpread({}, options, {\n        body: _JSON$stringify(data)\n      })));\n    },\n    \"delete\": function _delete(path, options) {\n      var url = \"\".concat(API_URI).concat(path);\n      return Fetch(url, setOptions('DELETE', options));\n    }\n  };\n})();","map":{"version":3,"sources":["/Applications/AMPPS/www/react-repo-2020-7eleven.ca/utils/api.js"],"names":["Fetch","APPORIGIN","API_HOST","API_PORT","ORIGIN","API_URI","setOptions","method","options","headers","post","path","data","url","body","get","put"],"mappings":"AAAA;;;;AACA,OAAOA,KAAP,MAAkB,SAAlB,C,CAEA;AACA;AACA;;AACA,IAAMC,SAAS,GAAG,aAAlB;AACA,IAAMC,QAAQ,GAAG,WAAjB;AACA,IAAMC,QAAQ,GAAG,MAAjB,C,CAEA;;AAEA,eAAe,CAAC,YAAW;AAEzB,MAAMC,MAAM,qBAAcH,SAAd,CAAZ,CAFyB,CAGzB;;AACA,MAAMI,OAAO,GAAG,EAAhB;;AAEA,WAASC,UAAT,GAA6C;AAAA,QAAzBC,MAAyB,uEAAhB,KAAgB;AAAA,QAATC,OAAS;AAC3C;AACA,QAAMC,OAAO,GAAGD,OAAO,CAACC,OAAR,IAAmB,EAAnC;AACA,6BACKD,OADL;AAEED,MAAAA,MAAM,EAANA,MAFF;AAGEE,MAAAA,OAAO;AACL,kBAAUL,MADL;AAEL,wBAAgB;AAFX,SAGFK,OAHE;AAHT;AASD;;AAED,SAAO;AACLC,IAAAA,IAAI,EAAE,cAASC,IAAT,EAAeC,IAAf,EAAmC;AAAA,UAAdJ,OAAc,uEAAJ,EAAI;AACvC,UAAMK,GAAG,aAAMR,OAAN,SAAgBM,IAAhB,CAAT;AACA,aAAOX,KAAK,CAACa,GAAD,EAAMP,UAAU,CAAC,MAAD,oBACvBE,OADuB;AAE1BM,QAAAA,IAAI,EAAE,gBAAeF,IAAf;AAFoB,SAAhB,CAAZ;AAID,KAPI;AAQLG,IAAAA,GAAG,EAAE,aAASJ,IAAT,EAAeH,OAAf,EAAwB;AAC3B,UAAMK,GAAG,aAAMR,OAAN,SAAgBM,IAAhB,CAAT;AACD,aAAOX,KAAK,CAACa,GAAD,EAAMP,UAAU,CAAC,KAAD,EAAQE,OAAR,CAAhB,CAAZ;AACA,KAXI;AAYLQ,IAAAA,GAAG,EAAE,aAASL,IAAT,EAAeC,IAAf,EAAmC;AAAA,UAAdJ,OAAc,uEAAJ,EAAI;AACtC,UAAMK,GAAG,aAAMR,OAAN,SAAgBM,IAAhB,CAAT;AACA,aAAOX,KAAK,CAACa,GAAD,EAAMP,UAAU,CAAC,KAAD,oBACvBE,OADuB;AAE1BM,QAAAA,IAAI,EAAE,gBAAeF,IAAf;AAFoB,SAAhB,CAAZ;AAID,KAlBI;AAmBL,cAAQ,iBAASD,IAAT,EAAeH,OAAf,EAAwB;AAC9B,UAAMK,GAAG,aAAMR,OAAN,SAAgBM,IAAhB,CAAT;AACA,aAAOX,KAAK,CAACa,GAAD,EAAMP,UAAU,CAAC,QAAD,EAAWE,OAAX,CAAhB,CAAZ;AACD;AAtBI,GAAP;AAyBD,CA7Cc,GAAf","sourcesContent":["'use strict';\nimport Fetch from './fetch'\n\n// TODO : \n// ADD THESE TO ENV VARIABLES \n//\nconst APPORIGIN = 'development'\nconst API_HOST = 'localhost'\nconst API_PORT = '8000'\n\n// TODO: API Services health check\n\nexport default (function() {\n\n  const ORIGIN = `https://${APPORIGIN}`\n  // const API_URI = `https://${API_HOST}:${API_PORT}`\n  const API_URI = ''\n\n  function setOptions(method = 'GET', options) {\n    // console.log(options);\n    const headers = options.headers || {}\n    return {\n      ...options,\n      method,\n      headers: {\n        \"Origin\": ORIGIN,\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        ...headers\n      },\n    }\n  }\n\n  return {\n    post: function(path, data, options = {}) {\n      const url = `${API_URI}${path}`\n      return Fetch(url, setOptions('POST', {\n        ...options,\n        body: JSON.stringify(data),\n      }))\n    },\n    get: function(path, options) {\n      const url = `${API_URI}${path}`\n     return Fetch(url, setOptions('GET', options))\n    },\n    put: function(path, data, options = {}) {\n      const url = `${API_URI}${path}`\n      return Fetch(url, setOptions('PUT', {\n        ...options,\n        body: JSON.stringify(data),\n      }))\n    },\n    delete: function(path, options) {\n      const url = `${API_URI}${path}`\n      return Fetch(url, setOptions('DELETE', options))\n    }\n  }\n\n})()\n"]},"metadata":{},"sourceType":"module"}